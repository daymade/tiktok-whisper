# 📚 小白操作指南：一键导出转录数据为 Markdown

> 这个工具可以帮你把 tiktok-whisper 里的转录数据变成漂亮的 Markdown 文件，就像魔法一样简单！ ✨

## 🎯 这个工具是做什么的？

想象一下：
- 你用 tiktok-whisper 把很多视频转成了文字
- 这些文字都存在数据库里，很难整理
- **这个工具能一键把它们变成整齐的 Markdown 文件！**

**变成什么样？**
- 每个视频一个标题
- 文字内容整齐排列
- 自动打包成 ZIP 文件
- 可以直接分享给别人

## 🚀 第一次使用（只需要做一次）

### 步骤 1：检查你有没有 uv
打开**终端**（Mac）或**命令提示符**（Windows），输入：
```bash
uv --version
```

**如果显示版本号** ✅ → 跳到步骤 3
**如果显示"命令不存在"** ❌ → 继续步骤 2

### 步骤 2：安装 uv（如果没有的话）
复制粘贴这个命令：
```bash
curl -LsSf https://astral.sh/uv/install.sh | sh
```
等待安装完成，然后重新打开终端。

### 步骤 3：进入工具目录
```bash
cd /你的路径/tiktok-whisper/tools/export-to-md
```
> 💡 **小贴士**：如果不知道路径，可以直接把文件夹拖到终端里

### 步骤 4：初始化工具（只需要做一次）
```bash
uv sync
```
看到 ✅ 就说明成功了！

### 步骤 5：检查配置
```bash
uv run python export_to_md.py config --show
```
这会显示当前配置，确保路径都正确。

## 📖 日常使用（超简单）

### 🔍 查看有哪些用户
```bash
uv run python export_to_md.py list-users
```

**你会看到类似这样的列表**：
```
==================================================
用户列表 (按记录数排序)
==================================================
 1. 亮哥留学                        (1152 条记录)
 2. 本喵叫兔兔                      ( 453 条记录) 
 3. 经纬第二期                      ( 265 条记录)
 4. 许朝军                         ( 261 条记录)
...
```

### 📦 导出指定用户的数据
```bash
uv run python export_to_md.py export --user "经纬第二期"
```

**替换 `"经纬第二期"` 为你想要的用户名！**

**导出完成后，你会看到**：
```
✅ 导出成功!
📁 输出文件: output/经纬第二期_transcriptions.zip
📊 记录数量: 265
```

### 🎁 批量导出所有用户
```bash
uv run python export_to_md.py export-all
```
> ⚠️ **注意**：这会导出所有用户，可能需要一些时间

## 📁 输出文件在哪里？

默认情况下，文件会保存在：
```
tools/export-to-md/output/
```

**文件名格式**：`用户名_transcriptions.zip`

**ZIP 里面有什么？**
- 多个 `.md` 文件（每50条记录一个文件）
- 每个文件包含整齐排列的转录内容

## 🛠️ 常用设置

### 只要最新的 100 条记录
```bash
uv run python export_to_md.py export --user "用户名" --limit 100
```

### 导出到指定文件夹
```bash
uv run python export_to_md.py export --user "用户名" --output "/你想要的路径"
```

### 查看当前配置
```bash
uv run python export_to_md.py config --show
```

## 🔧 出问题了怎么办？

### 问题 1：找不到用户
```
❌ 用户不存在: 用户名
```
**解决办法**：
1. 用 `list-users` 命令查看正确的用户名
2. 确保用户名拼写完全正确（包括空格）

### 问题 2：数据库文件不存在
```
❌ 数据库文件不存在
```
**解决办法**：
```bash
uv run python export_to_md.py config --set database_path="/正确的/路径/transcription.db"
```

### 问题 3：html2md 工具不存在
```
❌ html2md 工具不存在
```
**解决办法**：
```bash
uv run python export_to_md.py config --set html2md_path="/正确的/路径/html2md/main.py"
```

### 问题 4：没有权限
**解决办法**：
1. 确保你对输出目录有写权限
2. 或者换一个你有权限的目录

## 🎉 成功案例

### 导出成功的样子
```
🎯 开始导出用户: 经纬第二期
✅ 找到 265 条记录
🔄 正在转换为 Markdown...
✅ 导出成功!
📁 输出文件: output/经纬第二期_transcriptions.zip
📊 记录数量: 265
```

### 生成的 Markdown 文件长这样
```markdown
## 2025-03-11 18.28.56-视频-经纬-成交的核心是什么.mp3

讲干货对于成交的效果不大

本身并不能塑造很强的信任感

什么东西能够拉近我们之间的信任距离

我的身份

第二个部分是你的卖点
...

## 2025-02-28 19.05.16-视频-经纬-抄对标不是一模一样抄话术.mp3

一模一样的直播话术

你哪怕一字不改的去抄一遍

结果也可能差10倍
...
```

## 💡 小贴士

### 🏃‍♂️ 快速操作
如果你经常导出同一个用户，可以创建一个快捷脚本：
```bash
# 创建 my_export.sh 文件
echo 'uv run python export_to_md.py export --user "经纬第二期"' > my_export.sh
chmod +x my_export.sh

# 以后只需要运行
./my_export.sh
```

### 📊 查看文件大小
```bash
ls -lh output/*.zip
```

### 🗂️ 预览 ZIP 内容
```bash
unzip -l output/用户名_transcriptions.zip
```

### 🎯 解压 ZIP 文件
```bash
unzip output/用户名_transcriptions.zip -d 解压到的文件夹
```

## 🆘 需要帮助？

1. **重新运行安装检查**：`./install.sh`
2. **查看详细文档**：`README.md`
3. **重置配置**：删除 `config.json`，重新运行 `./install.sh`

## 🎊 恭喜你！

现在你已经学会了：
- ✅ 查看所有用户
- ✅ 导出指定用户数据
- ✅ 批量导出所有用户
- ✅ 处理常见问题

**从此以后，导出转录数据就像发微信一样简单！** 📱✨

---

*这个工具让复杂的数据导出变成了一行命令，希望能帮你节省大量时间！* 🚀